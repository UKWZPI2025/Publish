<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Ortodonta123</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link href="style/style.css" rel="stylesheet" type="text/css" />


</head>


<body>
<div class="main">
  <div class="header">
    <div class="header_resize">
      <div class="logo">
        <h1><a href="#"><span>O</span>rtodonta123</a> <small>klinika ortodontyczna</small></h1>
      </div>
      <div class="clr"></div>
      <div class="menu_nav">
		  <ul class="main_menu">
			  <li><a href="index_recepcjonista.html">Home</a></li>
			  <li class="active"><a href="wiadomosci_recepcjonista.html">Powiadomienia</a></li>
			  <li><a href="panel_recepcjonista.html">Panel recepcjonisty</a></li>
			</ul>

		  <ul class="user_menu">
			<li><a href="">Witaj (imię)!</a></li>
			<li><a href="index_gosc.html">Wyloguj</a></li>
		  </ul>
		</div>

    </div>
  </div>
  
	  
	  <div class="content">
		  <div class="content_resize">
			<div class="clr"></div>
			<div class="mainbar">
			  <div class="article">
				<h2 class="fancy-title" style="text-align: center;">Zarządzanie Powiadomieniami Push</h2>

				<!-- Zarządzanie szablonami powiadomień -->
				<div class="section">
				  <h3>Szablony Powiadomień</h3>
				  <form action="#" method="post">
					<label for="templateName">Nazwa szablonu:</label><br />
					<input type="text" id="templateName" name="templateName" required /><br /><br />
					<label for="templateContent">Treść powiadomienia:</label><br />
					<textarea id="templateContent" name="templateContent" rows="4" cols="50" required></textarea><br /><br />
					<button type="submit" class="edytuj-form">Zapisz Szablon</button>
				  </form>
				</div>
				
				<hr />

				<!-- Podgląd wszystkich wysyłanych powiadomień -->
				<div class="section">
				  <h3>Podgląd Powiadomień</h3>
				  <table border="1" cellspacing="0" cellpadding="10" style="width:100%; border-collapse: collapse;">
					<thead>
					  <tr>
						<th>ID</th>
						<th>Data Wysłania</th>
						<th>Treść</th>
						<th>Status</th>
					  </tr>
					</thead>
					<tbody>
					  <tr>
						<td>1</td>
						<td>2025-05-04 14:30</td>
						<td>Potwierdzenie wizyty – Twoja wizyta została zaplanowana na 2025-05-06.</td>
						<td>Wysłane</td>
					  </tr>
					  <tr>
						<td>2</td>
						<td>2025-05-03 09:15</td>
						<td>Wysłanie przypomnienia o wizycie za 12 godzin.</td>
						<td>Wysłane</td>
					  </tr>
					</tbody>
				  </table>
				</div>

			  </div>
			</div>
			<div class="clr"></div>
		  </div>
		</div>


  
  <script type="text/javascript">
  function showCookiePolicy() {
    document.getElementById("cookieModal").style.display = "block";
  }
  </script>


  
  <div class="fbg">
      <div class="fbg_resize">
        <div class="contact_wrapper">
          <div class="contact_left">
            <p><strong>Poniedziałek:</strong> 08:00 – 16:00</p>
            <p><strong>Wtorek:</strong> 08:00 – 16:00</p>
            <p><strong>Środa:</strong> 08:00 – 16:00</p>
            <p><strong>Czwartek:</strong> 08:00 – 16:00</p>
            <p><strong>Piątek:</strong> 08:00 – 16:00</p>
            <p><strong>Sobota:</strong> Nieczynne</p>
            <p><strong>Niedziela:</strong> Nieczynne</p>
          </div>
          <div class="contact_right">
            <p><strong>Email:</strong> <a href="mailto:kontakt@firma.pl">kontakt@firma.pl</a></p>
            <p><strong>Telefon:</strong> <a href="tel:+48123456789">+48 123 456 789</a></p>
            <p><strong>Adres:</strong> ul. Przykładowa 1, 00-001 Warszawa</p>
			<p><a href="#" onclick="showCookiePolicy()">informacje o ciasteczkach</a></p>
          </div>
        </div>
        <div class="clr"></div>
      </div>
    </div>
  <div class="footer">
      <div class="footer_resize">
        <div class="clr"></div>
      </div>
    </div>




<!-- MODAL -->
<div id="cookieModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:9999;">
  <div style="background:white; width:80%; max-width:700px; margin:10% auto; padding:20px; border-radius:10px;">
    <h2>Polityka ciasteczek</h2>
    <p style="text-align:justify; max-height:60vh; overflow-y:auto;">
      Nasza strona internetowa używa ciasteczek, aby zapewnić Ci jak najlepsze doświadczenia podczas przeglądania.
      Ciasteczka to małe pliki tekstowe przechowywane na Twoim urządzeniu, które pozwalają nam zapamiętać Twoje preferencje i ustawienia.<br><br>

      <strong>Jakie ciasteczka stosujemy?</strong><br>
      Ciasteczka niezbędne – umożliwiają prawidłowe funkcjonowanie strony, takie jak logowanie do konta.<br>
      Ciasteczka analityczne – pozwalają analizować, jak użytkownicy korzystają ze strony.<br>
      Ciasteczka marketingowe – służą do wyświetlania dopasowanych reklam.<br><br>

      <strong>Zarządzanie ciasteczkami:</strong><br>
      Możesz zarządzać ustawieniami w przeglądarce. Zablokowanie ciasteczek może wpłynąć na działanie strony.<br><br>

      Klikając „Akceptuję” lub kontynuując korzystanie z naszej strony, wyrażasz zgodę na używanie ciasteczek zgodnie z naszą polityką.
    </p>
    <div style="text-align:center; margin-top:20px;">
  <button onclick="document.getElementById('cookieModal').style.display='none';">Akceptuję</button>
	</div>

  </div>
</div>






<script>
// Rejestracja Service Workera
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('js/sw.js').catch(console.error);
}

// Obsługa toggle push
const pushToggle = document.getElementById('pushToggle');
const pushStatus = document.getElementById('pushStatus');

pushToggle.addEventListener('change', async () => {
  if (!('Notification' in window) || !('serviceWorker' in navigator)) {
    alert('Twoja przeglądarka nie obsługuje powiadomień push.');
    pushToggle.checked = false;
    return;
  }
  if (pushToggle.checked) {
    const perm = await Notification.requestPermission();
    if (perm !== 'granted') {
      alert('Odrzucono pozwolenie na powiadomienia.');
      pushToggle.checked = false;
      return;
    }
    const reg = await navigator.serviceWorker.ready;
    reg.showNotification('Ortodonta123', {
      body: 'Dziękujemy za subskrypcję powiadomień o wizytach!',
      tag: 'test-push'
    });
    pushStatus.style.display = 'block';
  } else {
    pushStatus.style.display = 'none';
    alert('Anulowano subskrypcję powiadomień.');
  }
});

// Generowanie linku potwierdzającego wizytę
const genBtn = document.getElementById('generateLinkBtn');
const linkContainer = document.getElementById('linkContainer');
const confirmStatus = document.getElementById('confirmStatus');

genBtn.addEventListener('click', () => {
  const token = Math.random().toString(36).substring(2, 10);
  const link = document.createElement('a');
  link.href = '#';
  link.textContent = 'Potwierdź wizytę';
  link.dataset.token = token;
  linkContainer.innerHTML = '';
  linkContainer.appendChild(link);

  link.addEventListener('click', (e) => {
    e.preventDefault();
    confirmStatus.style.display = 'block';
    linkContainer.style.display = 'none';
  });
});
</script>




</body>
</html>
